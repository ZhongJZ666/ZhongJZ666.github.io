---
layout: default
---

<article class="post">
  <h1>{{ page.title }}</h1>
  
  <div class="post-meta">
    <time datetime="{{ page.date | date_to_xmlschema }}">
      {{ page.date | date: "%Y-%m-%d" }}
    </time>
    {% if page.categories.size > 0 %}
      <span class="categories">
        分类：
        {% for category in page.categories %}
          <a href="{{ site.baseurl }}/categories/#{{ category }}">{{ category }}</a>
          {% unless forloop.last %}, {% endunless %}
        {% endfor %}
      </span>
    {% endif %}
  </div>

  <div class="post-content">
    {% if page.toc %}
    <div class="toc">
      <h2>目录</h2>
      {{ content | toc }}
    </div>
    {% endif %}
    
    {{ content }}
  </div>

  <!-- Gitalk 评论系统 -->
  <div id="gitalk-container"></div>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
  <script>
    var gitalk = new Gitalk({
      clientID: '{{ site.gitalk.clientID }}',
      clientSecret: '{{ site.gitalk.clientSecret }}',
      repo: '{{ site.gitalk.repo }}',
      owner: '{{ site.gitalk.owner }}',
      admin: ['{{ site.gitalk.owner }}'],
      id: window.location.pathname,
      distractionFreeMode: false
    });
    gitalk.render('gitalk-container');
  </script>
</article> 